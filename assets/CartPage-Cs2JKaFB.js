import{j as o,G as at,u as ot,d as Ke,c as St,i as Ot,e as K,P as kt,z as we,f as Mt,g as Xe,r as Lt,h as Dt}from"./index-ItdY-IYc.js";import{R as $,e as Z,b as i,f as At,u as Ft,L as It}from"./vendor-Bj2_SvGi.js";import{M as Bt}from"./MenuCard-Dzy5J7pt.js";import{b as _t,c as $t,d as Wt}from"./firebase-CWRDQEVH.js";import{c as y,u as Q,a as Ut}from"./ThemeProvider-73-qPjxW.js";import{P as Te}from"./index-D2BHNduI.js";function Pt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},De(e,t)}function Ht(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,De(e,t)}function Ee(e){return e&&e.ownerDocument||document}function Gt(e){var t=Ee(e);return t&&t.defaultView||window}function zt(e,t){return Gt(e).getComputedStyle(e,t)}var Vt=/([A-Z])/g;function Kt(e){return e.replace(Vt,"-$1").toLowerCase()}var Xt=/^ms-/;function ge(e){return Kt(e).replace(Xt,"-ms-")}var Yt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qt(e){return!!(e&&Yt.test(e))}function W(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(ge(t))||zt(e).getPropertyValue(ge(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(ge(s)):qt(s)?r+=s+"("+a+") ":n+=ge(s)+": "+a+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}const Ye={disabled:!1},it=$.createContext(null);var Zt=function(t){return t.scrollTop},ie="unmounted",I="exited",L="entering",B="entered",Ae="exiting",w=(function(e){Ht(t,e);function t(r,s){var a;a=e.call(this,r,s)||this;var c=s,l=c&&!c.isMounting?r.enter:r.appear,u;return a.appearStatus=null,r.in?l?(u=I,a.appearStatus=L):u=B:r.unmountOnExit||r.mountOnEnter?u=ie:u=I,a.state={status:u},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var c=s.in;return c&&a.status===ie?{status:I}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==L&&c!==B&&(a=L):(c===L||c===B)&&(a=Ae)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,c,l;return a=c=l=s,s!=null&&typeof s!="number"&&(a=s.exit,c=s.enter,l=s.appear!==void 0?s.appear:c),{exit:a,enter:c,appear:l}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===L){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Z.findDOMNode(this);c&&Zt(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===I&&this.setState({status:ie})},n.performEnter=function(s){var a=this,c=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[Z.findDOMNode(this),l],f=u[0],p=u[1],d=this.getTimeouts(),m=l?d.appear:d.enter;if(!s&&!c||Ye.disabled){this.safeSetState({status:B},function(){a.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:L},function(){a.props.onEntering(f,p),a.onTransitionEnd(m,function(){a.safeSetState({status:B},function(){a.props.onEntered(f,p)})})})},n.performExit=function(){var s=this,a=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:Z.findDOMNode(this);if(!a||Ye.disabled){this.safeSetState({status:I},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ae},function(){s.props.onExiting(l),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:I},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,a.nextCallback=null,s(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:Z.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],f=u[0],p=u[1];this.props.addEndListener(f,p)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===ie)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=Pt(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(it.Provider,{value:null},typeof c=="function"?c(s,l):$.cloneElement($.Children.only(c),l))},t})($.Component);w.contextType=it;w.propTypes={};function X(){}w.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:X,onEntering:X,onEntered:X,onExit:X,onExiting:X,onExited:X};w.UNMOUNTED=ie;w.EXITED=I;w.ENTERING=L;w.ENTERED=B;w.EXITING=Ae;function Qt(e){return e.code==="Escape"||e.keyCode===27}function Jt(){const e=i.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function ye(e){if(!e||typeof e=="function")return null;const{major:t}=Jt();return t>=19?e.props.ref:e.ref}const J=!!(typeof window<"u"&&window.document&&window.document.createElement);var Fe=!1,Ie=!1;try{var Se={get passive(){return Fe=!0},get once(){return Ie=Fe=!0}};J&&(window.addEventListener("test",Se,Se),window.removeEventListener("test",Se,!0))}catch{}function ct(e,t,n,r){if(r&&typeof r!="boolean"&&!Ie){var s=r.once,a=r.capture,c=n;!Ie&&s&&(c=n.__once||function l(u){this.removeEventListener(t,l,a),n.call(this,u)},n.__once=c),e.addEventListener(t,c,Fe?r:a)}e.addEventListener(t,n,r)}function Be(e,t,n,r){var s=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,s),n.__once&&e.removeEventListener(t,n.__once,s)}function xe(e,t,n,r){return ct(e,t,n,r),function(){Be(e,t,n,r)}}function en(e,t,n,r){if(r===void 0&&(r=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,n,r),e.dispatchEvent(s)}}function tn(e){var t=W(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function nn(e,t,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||en(e,"transitionend",!0)},t+n),a=xe(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function lt(e,t,n,r){n==null&&(n=tn(e)||0);var s=nn(e,n,r),a=xe(e,"transitionend",t);return function(){s(),a()}}function qe(e,t){const n=W(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function rn(e,t){const n=qe(e,"transitionDuration"),r=qe(e,"transitionDelay"),s=lt(e,a=>{a.target===e&&(s(),t(a))},n+r)}function sn(e){e.offsetHeight}const Ze=e=>!e||typeof e=="function"?e:t=>{e.current=t};function an(e,t){const n=Ze(e),r=Ze(t);return s=>{n&&n(s),r&&r(s)}}function ut(e,t){return i.useMemo(()=>an(e,t),[e,t])}function on(e){return e&&"setState"in e?Z.findDOMNode(e):e??null}const dt=$.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:s,onExited:a,addEndListener:c,children:l,childRef:u,...f},p)=>{const d=i.useRef(null),m=ut(d,u),v=R=>{m(on(R))},E=R=>O=>{R&&d.current&&R(d.current,O)},T=i.useCallback(E(e),[e]),D=i.useCallback(E(t),[t]),b=i.useCallback(E(n),[n]),A=i.useCallback(E(r),[r]),S=i.useCallback(E(s),[s]),N=i.useCallback(E(a),[a]),j=i.useCallback(E(c),[c]);return o.jsx(w,{ref:p,...f,onEnter:T,onEntered:b,onEntering:D,onExit:A,onExited:N,onExiting:S,addEndListener:j,nodeRef:d,children:typeof l=="function"?(R,O)=>l(R,{...O,ref:v}):$.cloneElement(l,{ref:v})})});dt.displayName="TransitionWrapper";function cn(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function _e(e){const t=cn(e);return i.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const ln=(e=>i.forwardRef((t,n)=>o.jsx("div",{...t,ref:n,className:y(t.className,e)})));function un(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e},[e]),t}function _(e){const t=un(e);return i.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function dn(){const e=i.useRef(!0),t=i.useRef(()=>e.current);return i.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function fn(e){const t=i.useRef(null);return i.useEffect(()=>{t.current=e}),t.current}const mn=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",hn=typeof document<"u",Qe=hn||mn?i.useLayoutEffect:i.useEffect,pn={[L]:"show",[B]:"show"},$e=i.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...s},a)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=i.useCallback((u,f)=>{sn(u),r?.(u,f)},[r]);return o.jsx(dt,{ref:a,addEndListener:rn,...c,onEnter:l,childRef:ye(t),children:(u,f)=>i.cloneElement(t,{...f,className:y("fade",e,t.props.className,pn[u],n[u])})})});$e.displayName="Fade";const gn={"aria-label":Te.string,onClick:Te.func,variant:Te.oneOf(["white"])},We=i.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},s)=>o.jsx("button",{ref:s,type:"button",className:y("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));We.displayName="CloseButton";We.propTypes=gn;function vn(e){const t=i.useRef(e);return t.current=e,t}function xn(e){const t=vn(e);i.useEffect(()=>()=>t.current(),[])}var En=Function.prototype.bind.call(Function.prototype.call,[].slice);function Y(e,t){return En(e.querySelectorAll(t))}function Je(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const yn="data-rr-ui-";function bn(e){return`${yn}${e}`}const ft=i.createContext(J?window:void 0);ft.Provider;function Ue(){return i.useContext(ft)}const et=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Nn(e,t){const n=et(e),r=et(t);return s=>{n&&n(s),r&&r(s)}}function Pe(e,t){return i.useMemo(()=>Nn(e,t),[e,t])}var ve;function tt(e){if((!ve&&ve!==0||e)&&J){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ve=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ve}function Rn(){return i.useState(null)}function Oe(e){e===void 0&&(e=Ee());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Cn(e){const t=i.useRef(e);return t.current=e,t}function jn(e){const t=Cn(e);i.useEffect(()=>()=>t.current(),[])}function wn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const nt=bn("modal-open");class He{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return wn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[r]:s.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(W(s,r)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(nt,""),W(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(nt),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const ke=(e,t)=>J?e==null?(t||Ee()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Tn(e,t){const n=Ue(),[r,s]=i.useState(()=>ke(e,n?.document));if(!r){const a=ke(e);a&&s(a)}return i.useEffect(()=>{},[t,r]),i.useEffect(()=>{const a=ke(e);a!==r&&s(a)},[e,r]),r}function Sn({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:s}){const a=i.useRef(null),c=i.useRef(t),l=_(n);i.useEffect(()=>{t?c.current=!0:l(a.current)},[t,l]);const u=Pe(a,ye(e)),f=i.cloneElement(e,{ref:u});return t?f:s||!c.current&&r?null:f}const On=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function kn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mn(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:s,onExiting:a,onExited:c,addEndListener:l,children:u}=e,f=kn(e,On);const p=i.useRef(null),d=Pe(p,ye(u)),m=N=>j=>{N&&p.current&&N(p.current,j)},v=i.useCallback(m(t),[t]),E=i.useCallback(m(n),[n]),T=i.useCallback(m(r),[r]),D=i.useCallback(m(s),[s]),b=i.useCallback(m(a),[a]),A=i.useCallback(m(c),[c]),S=i.useCallback(m(l),[l]);return Object.assign({},f,{nodeRef:p},t&&{onEnter:v},n&&{onEntering:E},r&&{onEntered:T},s&&{onExit:D},a&&{onExiting:b},c&&{onExited:A},l&&{addEndListener:S},{children:typeof u=="function"?(N,j)=>u(N,Object.assign({},j,{ref:d})):i.cloneElement(u,{ref:d})})}const Ln=["component"];function Dn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const An=i.forwardRef((e,t)=>{let{component:n}=e,r=Dn(e,Ln);const s=Mn(r);return o.jsx(n,Object.assign({ref:t},s))});function Fn({in:e,onTransition:t}){const n=i.useRef(null),r=i.useRef(!0),s=_(t);return Qe(()=>{if(!n.current)return;let a=!1;return s({in:e,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[e,s]),Qe(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function In({children:e,in:t,onExited:n,onEntered:r,transition:s}){const[a,c]=i.useState(!t);t&&a&&c(!1);const l=Fn({in:!!t,onTransition:f=>{const p=()=>{f.isStale()||(f.in?r?.(f.element,f.initial):(c(!0),n?.(f.element)))};Promise.resolve(s(f)).then(p,d=>{throw f.in||c(!0),d})}}),u=Pe(l,ye(e));return a&&!t?null:i.cloneElement(e,{ref:u})}function rt(e,t,n){return e?o.jsx(An,Object.assign({},n,{component:e})):t?o.jsx(In,Object.assign({},n,{transition:t})):o.jsx(Sn,Object.assign({},n))}const Bn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _n(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let Me;function $n(e){return Me||(Me=new He({ownerDocument:e?.document})),Me}function Wn(e){const t=Ue(),n=e||$n(t),r=i.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:i.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:i.useCallback(s=>{r.current.backdrop=s},[])})}const mt=i.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:s,style:a,children:c,backdrop:l=!0,keyboard:u=!0,onBackdropClick:f,onEscapeKeyDown:p,transition:d,runTransition:m,backdropTransition:v,runBackdropTransition:E,autoFocus:T=!0,enforceFocus:D=!0,restoreFocus:b=!0,restoreFocusOptions:A,renderDialog:S,renderBackdrop:N=g=>o.jsx("div",Object.assign({},g)),manager:j,container:R,onShow:O,onHide:ee=()=>{},onExit:be,onExited:te,onExiting:ce,onEnter:le,onEntering:ue,onEntered:de}=e,Ne=_n(e,Bn);const k=Ue(),U=Tn(R),x=Wn(j),Re=dn(),fe=fn(n),[F,P]=i.useState(!n),C=i.useRef(null);i.useImperativeHandle(t,()=>x,[x]),J&&!fe&&n&&(C.current=Oe(k?.document)),n&&F&&P(!1);const M=_(()=>{if(x.add(),H.current=xe(document,"keydown",je),re.current=xe(document,"focus",()=>setTimeout(Ce),!0),O&&O(),T){var g,pe;const ae=Oe((g=(pe=x.dialog)==null?void 0:pe.ownerDocument)!=null?g:k?.document);x.dialog&&ae&&!Je(x.dialog,ae)&&(C.current=ae,x.dialog.focus())}}),ne=_(()=>{if(x.remove(),H.current==null||H.current(),re.current==null||re.current(),b){var g;(g=C.current)==null||g.focus==null||g.focus(A),C.current=null}});i.useEffect(()=>{!n||!U||M()},[n,U,M]),i.useEffect(()=>{F&&ne()},[F,ne]),jn(()=>{ne()});const Ce=_(()=>{if(!D||!Re()||!x.isTopModal())return;const g=Oe(k?.document);x.dialog&&g&&!Je(x.dialog,g)&&x.dialog.focus()}),me=_(g=>{g.target===g.currentTarget&&(f?.(g),l===!0&&ee())}),je=_(g=>{u&&Qt(g)&&x.isTopModal()&&(p?.(g),g.defaultPrevented||ee())}),re=i.useRef(),H=i.useRef(),he=(...g)=>{P(!0),te?.(...g)};if(!U)return null;const G=Object.assign({role:r,ref:x.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ne,{style:a,className:s,tabIndex:-1});let se=S?S(G):o.jsx("div",Object.assign({},G,{children:i.cloneElement(c,{role:"document"})}));se=rt(d,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:be,onExiting:ce,onExited:he,onEnter:le,onEntering:ue,onEntered:de,children:se});let z=null;return l&&(z=N({ref:x.setBackdropRef,onClick:me}),z=rt(v,E,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:z})),o.jsx(o.Fragment,{children:Z.createPortal(o.jsxs(o.Fragment,{children:[z,se]}),U)})});mt.displayName="Modal";const Un=Object.assign(mt,{Manager:He});function Pn(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Hn(e,t){e.classList?e.classList.add(t):Pn(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function st(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Gn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=st(e.className,t):e.setAttribute("class",st(e.className&&e.className.baseVal||"",t))}const q={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class zn extends He{adjustAndStore(t,n,r){const s=n.style[t];n.dataset[t]=s,W(n,{[t]:`${parseFloat(W(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],W(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Hn(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Y(n,q.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth)),Y(n,q.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-t.scrollBarWidth)),Y(n,q.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Gn(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Y(n,q.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Y(n,q.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Y(n,q.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Le;function Vn(e){return Le||(Le=new zn(e)),Le}const ht=i.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},s)=>(t=Q(t,"modal-body"),o.jsx(n,{ref:s,className:y(e,t),...r})));ht.displayName="ModalBody";const pt=i.createContext({onHide(){}}),Ge=i.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:s,fullscreen:a,children:c,scrollable:l,...u},f)=>{e=Q(e,"modal");const p=`${e}-dialog`,d=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return o.jsx("div",{...u,ref:f,className:y(p,t,s&&`${e}-${s}`,r&&`${p}-centered`,l&&`${p}-scrollable`,a&&d),children:o.jsx("div",{className:y(`${e}-content`,n),children:c})})});Ge.displayName="ModalDialog";const gt=i.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},s)=>(t=Q(t,"modal-footer"),o.jsx(n,{ref:s,className:y(e,t),...r})));gt.displayName="ModalFooter";const vt=i.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:s,...a},c)=>{const l=i.useContext(pt),u=_e(()=>{l?.onHide(),r?.()});return o.jsxs("div",{ref:c,...a,children:[s,n&&o.jsx(We,{"aria-label":e,variant:t,onClick:u})]})});vt.displayName="AbstractModalHeader";const xt=i.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...s},a)=>(e=Q(e,"modal-header"),o.jsx(vt,{ref:a,...s,className:y(t,e),closeLabel:n,closeButton:r})));xt.displayName="ModalHeader";const Kn=ln("h4"),Et=i.forwardRef(({className:e,bsPrefix:t,as:n=Kn,...r},s)=>(t=Q(t,"modal-title"),o.jsx(n,{ref:s,className:y(e,t),...r})));Et.displayName="ModalTitle";function Xn(e){return o.jsx($e,{...e,timeout:null})}function Yn(e){return o.jsx($e,{...e,timeout:null})}const yt=i.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:s,children:a,dialogAs:c=Ge,"data-bs-theme":l,"aria-labelledby":u,"aria-describedby":f,"aria-label":p,show:d=!1,animation:m=!0,backdrop:v=!0,keyboard:E=!0,onEscapeKeyDown:T,onShow:D,onHide:b,container:A,autoFocus:S=!0,enforceFocus:N=!0,restoreFocus:j=!0,restoreFocusOptions:R,onEntered:O,onExit:ee,onExiting:be,onEnter:te,onEntering:ce,onExited:le,backdropClassName:ue,manager:de,...Ne},k)=>{const[U,x]=i.useState({}),[Re,fe]=i.useState(!1),F=i.useRef(!1),P=i.useRef(!1),C=i.useRef(null),[M,ne]=Rn(),Ce=ut(k,ne),me=_e(b),je=Ut();e=Q(e,"modal");const re=i.useMemo(()=>({onHide:me}),[me]);function H(){return de||Vn({isRTL:je})}function he(h){if(!J)return;const V=H().getScrollbarWidth()>0,Ve=h.scrollHeight>Ee(h).documentElement.clientHeight;x({paddingRight:V&&!Ve?tt():void 0,paddingLeft:!V&&Ve?tt():void 0})}const G=_e(()=>{M&&he(M.dialog)});xn(()=>{Be(window,"resize",G),C.current==null||C.current()});const se=()=>{F.current=!0},z=h=>{F.current&&M&&h.target===M.dialog&&(P.current=!0),F.current=!1},g=()=>{fe(!0),C.current=lt(M.dialog,()=>{fe(!1)})},pe=h=>{h.target===h.currentTarget&&g()},ae=h=>{if(v==="static"){pe(h);return}if(P.current||h.target!==h.currentTarget){P.current=!1;return}b?.()},bt=h=>{E?T?.(h):(h.preventDefault(),v==="static"&&g())},Nt=(h,V)=>{h&&he(h),te?.(h,V)},Rt=h=>{C.current==null||C.current(),ee?.(h)},Ct=(h,V)=>{ce?.(h,V),ct(window,"resize",G)},jt=h=>{h&&(h.style.display=""),le?.(h),Be(window,"resize",G)},wt=i.useCallback(h=>o.jsx("div",{...h,className:y(`${e}-backdrop`,ue,!m&&"show")}),[m,ue,e]),ze={...n,...U};ze.display="block";const Tt=h=>o.jsx("div",{role:"dialog",...h,style:ze,className:y(t,e,Re&&`${e}-static`,!m&&"show"),onClick:v?ae:void 0,onMouseUp:z,"data-bs-theme":l,"aria-label":p,"aria-labelledby":u,"aria-describedby":f,children:o.jsx(c,{...Ne,onMouseDown:se,className:r,contentClassName:s,children:a})});return o.jsx(pt.Provider,{value:re,children:o.jsx(Un,{show:d,ref:Ce,backdrop:v,container:A,keyboard:!0,autoFocus:S,enforceFocus:N,restoreFocus:j,restoreFocusOptions:R,onEscapeKeyDown:bt,onShow:D,onHide:b,onEnter:Nt,onEntering:Ct,onEntered:O,onExit:Rt,onExiting:be,onExited:jt,manager:H(),transition:m?Xn:void 0,backdropTransition:m?Yn:void 0,renderBackdrop:wt,renderDialog:Tt})})});yt.displayName="Modal";const oe=Object.assign(yt,{Body:ht,Header:xt,Title:Et,Footer:gt,Dialog:Ge,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function qn(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function Zn(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(e)}function Qn({ele:e,onChangeOption:t}){const n=ot(),r=Array.isArray(e.flavor)&&e.flavor.length>0?e.flavor[0]:"",[s,a]=i.useState(r),c=Number(e.price??e.newPrice??0);return o.jsx("div",{className:"cart-item",children:o.jsxs("div",{className:"cart-item-container",children:[o.jsx("img",{src:e.image,alt:e.name,className:"cart-item-image"}),o.jsxs("div",{className:"cart-item-details justify-content-center",children:[o.jsx("h3",{className:"title cart-item-title",children:e.name}),o.jsx("p",{className:"cart-item-description",children:e.description}),o.jsxs("p",{className:"cart-item-price",children:[o.jsx("span",{className:"currency",children:"$"}),c,e.oldPrice&&o.jsx("span",{className:"oldPrice opacity-50 ms-2 fw-normal text-decoration-line-through",style:{fontSize:"0.8rem"},children:e.oldPrice})]}),o.jsxs("div",{className:"cart-item-meta control-card",children:[Array.isArray(e.flavor)&&e.flavor.length>0&&o.jsxs("div",{className:"mb-2 d-flex align-items-center gap-1",children:[o.jsx("label",{className:"title form-label mb-0",children:"Flavor:"}),o.jsx("select",{className:"form-select fw-semibold",value:s,onChange:l=>{a(l.target.value),t?.(e.id,l.target.value)},children:e.flavor.map(l=>o.jsx("option",{value:l,children:l},l))})]}),o.jsx("div",{className:"cart-item-actions",children:o.jsxs("div",{className:"quantity-control",children:[e.amount>1?o.jsx(qn,{className:"icon clickable",onClick:()=>n(Ke({id:e.id,price:c}))}):o.jsx(St,{className:"icon clickable",onClick:()=>n(Ke({id:e.id,price:c}))}),o.jsx("span",{className:"quantity",children:e.amount}),o.jsx(Zn,{className:"icon clickable",onClick:()=>n(Ot({id:e.id,price:c}))})]})})]})]})]})})}function Jn({show:e,onClose:t,cartItems:n,itemOptions:r,clearCart:s}){const[a,c]=i.useState(""),[l,u]=i.useState(!1),f=At(),p=async()=>{if(!a.trim()){we.error("Please enter your name or address");return}u(!0);try{await _t($t(Mt,"orders"),{userId:K.currentUser.uid,name:K.currentUser.displayName.trim(),state:0,items:n.map(d=>({id:d.id,name:d.name,amount:d.amount,price:d.price,image:d.image,flavor:r[d.id]?.flavor||""})),address:a.trim(),createdAt:Wt()}),we.success("Order placed successfully!"),s(),c(""),t()}catch(d){console.error("Error placing order:",d),we.error("Failed to place order.")}finally{u(!1)}};return o.jsxs(oe,{show:e,onHide:t,centered:!0,size:"lg",children:[o.jsx(oe.Header,{closeButton:!0,children:o.jsx(oe.Title,{className:"text-center",children:K.currentUser?"Confirm Your Order":"Not Logged In"})}),o.jsx(oe.Body,{children:K.currentUser?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"title form-label",style:{fontSize:"1rem"},children:"Name"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"Enter your name",value:K.currentUser.displayName,onChange:d=>setName(d.target.value),readOnly:!0,required:!0})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"title form-label",style:{fontSize:"1rem"},children:"Address"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"Enter your address",value:a,required:!0,onChange:d=>c(d.target.value)})]}),o.jsx("hr",{}),o.jsx("h6",{className:"title fs-6",children:"Items:"}),o.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},children:n.map(d=>o.jsxs("div",{className:"cart-form-item d-flex align-items-center mb-2",children:[o.jsx("img",{src:d.image,alt:d.name,style:{width:"30%",height:"80px",objectFit:"scale-down",marginRight:"10px",borderRadius:"5px"}}),o.jsxs("div",{className:"flex-grow-1",children:[o.jsx("div",{className:"title fs-6",children:d.name}),o.jsxs("div",{children:[o.jsx("span",{className:"fw-bold fs-6",children:"Quantity: "}),d.amount]}),o.jsxs("div",{children:[o.jsx("span",{className:"fw-bold fs-6",children:"Price: "}),d.price]}),r[d.id]&&o.jsxs("div",{children:[o.jsx("span",{className:"fw-bold fs-6",children:"Flavor: "}),r[d.id]]}),o.jsxs("div",{children:[o.jsx("span",{className:"fw-bold fs-6",children:"Total Price: "}),"$",d.price*(d.amount||1)]})]})]},d.id))})]}):o.jsx("p",{className:"fs-6 fw-bolder text-muted text-center",children:"You need to log in to place an order."})}),o.jsxs(oe.Footer,{children:[o.jsx("button",{className:"my-btn my-btn-outline",onClick:t,children:"Cancel"}),K.currentUser?o.jsx("button",{className:"my-btn my-btn-primary",onClick:p,disabled:l,children:l?o.jsx(kt,{}):"Place Order"}):o.jsx("button",{className:"my-btn my-btn-primary",onClick:()=>f("/auth/sign-in"),children:"Go to Login"})]})]})}function or(){const e=ot(),{cartItems:t}=Xe(m=>m.cart),{wishlistItems:n}=Xe(m=>m.wishlist),r=Ft(),[s,a]=i.useState({}),[c,l]=i.useState(!1),u=i.useMemo(()=>r.pathname.includes("/wishlist")?"wishlist":"cart",[r.pathname]),f=u==="cart"&&t.length===0||u==="wishlist"&&n.length===0,p=(m,v)=>{a(E=>({...E,[m]:v}))},d=()=>{t.forEach(m=>e(Lt(m.id))),e(Dt()),a({})};return o.jsxs("div",{className:"cart-page",children:[f&&o.jsxs("div",{className:"empty-cart",children:[o.jsx("img",{src:"img/empty-cart.svg",alt:"Empty",className:"empty-cart-img"}),o.jsx("h2",{children:u==="cart"?"Your Cart is empty":"Your Wishlist is empty"}),o.jsx(It,{to:"/menu",className:"my-btn my-btn-primary",children:"Continue Shopping"})]}),u==="cart"&&t.length>0&&o.jsxs("div",{className:"cart-box",children:[o.jsx("h1",{className:"title text-center my-2 fs-1",children:"Shopping Cart"}),o.jsx("div",{className:"cart-items",children:t.map((m,v)=>o.jsx(Qn,{ele:m,onChangeOption:p},m.id||`cart-item-${v}`))}),o.jsx("button",{className:"my-btn my-btn-primary mt-3 w-100",onClick:()=>l(!0),children:"Checkout"})]}),u==="wishlist"&&n.length>0&&o.jsxs("div",{className:"cart-box",children:[o.jsxs("h2",{className:"title text-center fs-2 my-2",children:["Saved for later (",n.length," items)"]}),o.jsx("div",{className:"wishlist-grid",children:n.map((m,v)=>o.jsx(Bt,{product:m},m.id||`wishlist-item-${v}`))})]}),o.jsx(Jn,{show:c,onClose:()=>l(!1),cartItems:t,itemOptions:s,clearCart:d})]})}export{or as default};
